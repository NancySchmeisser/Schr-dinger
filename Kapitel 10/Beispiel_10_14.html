<!DOCTYPE html>
<html>

<head>
	<title>Ich mag ihren Namen nicht! - Aufgabe</title>
	<script>

		function versteckeFehler() {
			var fehlerContainer = document.getElementById("fehler");
			fehlerContainer.style.display = "none";
			fehlerContainer.innerHTML = "";
		}

		function schreibeFehler(meldung) {
			//diese Funktion hilft, Fehlermeldungen auszugeben
			var fehlerContainer = document.getElementById("fehler");
			fehlerContainer.style.display = "block";
			fehlerContainer = document.getElementById("fehler")
			fehlerContainer.innerHTML += "<p>" + meldung + "</p>";
		}

		function pruefeVornamen() {
			var vorname = document.getElementById("vorname").value;
			if (vorname == "")
				schreibeFehler("Bitte geben Sie einen Vornamen ein");
			else if (vorname == "Klausie") {
				schreibeFehler("Klausi muss draußen bleiben")
			}
			//pruefe, ob ein Name eingegeben wurde und ob der name nicht Klausie ist - ich weiß nicht warum aber der Kunde hat ein Problem mit dem Namen
		}

		function pruefeNachnamen() {
			var nachname = document.getElementById("nachname").value;
			if (nachname == ""){
				schreibeFehler("Bitte geben Sie einen Nachnamen ein");
		} else if (nachname.length <= 1) {
			schreibeFehler("Nachname ist zu kurz");
		}		
		}



		function pruefeEmail() {
			var email = document.getElementById("email").value;
			if (email == "")
				schreibeFehler("Bitte geben Sie ihre Email-Adresse ein");
				else if (email.indexOf("@") < 0){
				schreibeFehler("Die Emailadresse ist falsch");
			}		
			//pruefe, ob eine Emailadresse eingegeben wurde und ob sie ein @ enthält. Das ist zwar keine ausreichende Prüfung, aber im Moment gibt es nicht mehrs
		}

		function pruefeFormular() {
			versteckeFehler();
			pruefeVornamen();
			pruefeNachnamen();
			pruefeEmail();
			schickeFormular();
		}

		function schickeFormular() {
			//hier muss ich dann noch das Formular abschicken, das krieg ich hin
		}
	</script>
	<style>
		label {
			display: block;
		}
		#fehler {
			background-color: lightgray;
			color: red;
			border: 1px solid red;
			display: none;
		}
	</style>

	<head>

	<body>
		<div id="fehler"></div>
		<label for="vorname">Vorname: </label><input id="vorname" name="vorname"><br />
		<label for="nachname">Nachname: </label><input id="nachname" name="nachname"><br />
		<label for="email">Email: </label><input id="email" name="email"><br />
		<button type="button" onclick="pruefeFormular();">Klick mich!</button>
		<noscript>
			JavaScript ist nicht aktiv!
		</noscript>
	</body>

</html>